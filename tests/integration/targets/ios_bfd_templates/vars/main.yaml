---
parsed:
  - name: template1
    hop: single_hop
    interval:
      min_tx: 200
      min_rx: 200
      multiplier: 3
    authentication:
      type: keyed_sha_1
      keychain: bfd_keychain
    echo: true
  - name: template2
    hop: multi_hop
    interval:
      min_tx: 500
      min_rx: 500
      multiplier: 5
    dampening:
      half_life_period: 30
      reuse_threshold: 2000
      suppress_threshold: 5000
      max_suppress_time: 120

rendered:
  commands:
    - bfd-template single-hop template1
    - interval min-tx 200 min-rx 200 multiplier 3
    - authentication keyed-sha-1 keychain bfd_keychain
    - echo
    - bfd-template multi-hop template2
    - interval min-tx 500 min-rx 500 multiplier 5
    - dampening 30 2000 5000 120

merged:
  before: []
  commands:
    - bfd-template single-hop template1
    - interval min-tx 200 min-rx 200 multiplier 3
    - authentication keyed-sha-1 keychain bfd_keychain
    - echo
    - bfd-template multi-hop template2
    - interval min-tx 500 min-rx 500 multiplier 5
    - dampening 30 2000 5000 120
  after:
    - name: template1
      hop: single_hop
      interval:
        min_tx: 200
        min_rx: 200
        multiplier: 3
      authentication:
        type: keyed_sha_1
        keychain: bfd_keychain
      echo: true
    - name: template2
      hop: multi_hop
      interval:
        min_tx: 500
        min_rx: 500
        multiplier: 5
      dampening:
        half_life_period: 30
        reuse_threshold: 2000
        suppress_threshold: 5000
        max_suppress_time: 120
  changed: true

replaced:
  before:
    - name: template1
      hop: single_hop
      interval:
        min_tx: 200
        min_rx: 200
        multiplier: 3
      authentication:
        type: keyed_sha_1
        keychain: bfd_keychain
      echo: true
    - name: template2
      hop: multi_hop
      interval:
        min_tx: 500
        min_rx: 500
        multiplier: 5
      dampening:
        half_life_period: 30
        reuse_threshold: 2000
        suppress_threshold: 5000
        max_suppress_time: 120
  commands:
    - bfd-template single-hop template1
    - no echo
    - interval min-tx 300 min-rx 300 multiplier 4
    - no authentication keyed-sha-1 keychain bfd_keychain
    - authentication sha-1 keychain new_keychain
  after:
    - name: template1
      hop: single_hop
      interval:
        min_tx: 300
        min_rx: 300
        multiplier: 4
      authentication:
        type: sha_1
        keychain: new_keychain
    - name: template2
      hop: multi_hop
      interval:
        min_tx: 500
        min_rx: 500
        multiplier: 5
      dampening:
        half_life_period: 30
        reuse_threshold: 2000
        suppress_threshold: 5000
        max_suppress_time: 120
  changed: true

overridden:
  before: []
  commands:
    - bfd-template single-hop template1
    - interval min-tx 200 min-rx 200 multiplier 3
    - authentication keyed-sha-1 keychain bfd_keychain
    - echo
    - bfd-template multi-hop template2
    - interval min-tx 500 min-rx 500 multiplier 5
    - dampening 30 2000 5000 120
  after:
    - name: template1
      hop: single_hop
      interval:
        min_tx: 200
        min_rx: 200
        multiplier: 3
      authentication:
        type: keyed_sha_1
        keychain: bfd_keychain
      echo: true
    - name: template2
      hop: multi_hop
      interval:
        min_tx: 500
        min_rx: 500
        multiplier: 5
      dampening:
        half_life_period: 30
        reuse_threshold: 2000
        suppress_threshold: 5000
        max_suppress_time: 120
  changed: true

deleted:
  before:
    - name: template1
      hop: single_hop
      interval:
        min_tx: 200
        min_rx: 200
        multiplier: 3
      authentication:
        type: keyed_sha_1
        keychain: bfd_keychain
      echo: true
    - name: template2
      hop: multi_hop
      interval:
        min_tx: 500
        min_rx: 500
        multiplier: 5
      dampening:
        half_life_period: 30
        reuse_threshold: 2000
        suppress_threshold: 5000
        max_suppress_time: 120
  commands:
    - no bfd-template single-hop template1
    - no bfd-template multi-hop template2
  after: []
  changed: true

rtt:
  commands:
    - bfd-template single-hop template1
    - interval min-tx 200 min-rx 200 multiplier 3
