---
merged:
  commands:
    - "spanning-tree mode mst"
    - "spanning-tree mst hello-time 4"
    - "spanning-tree mst forward-time 25"
    - "spanning-tree mst max-age 33"
  commands2:
    - "no spanning-tree bridge assurance"
    - "spanning-tree logging"
    - "spanning-tree loopguard default"
    - "spanning-tree pathcost method long"
    - "spanning-tree transmit hold-count 5"
    - "spanning-tree portfast default"
    - "spanning-tree portfast bpdufilter default"
    - "spanning-tree uplinkfast"
    - "spanning-tree uplinkfast max-update-rate 32"
    - "spanning-tree vlan 4,6-8 hello-time 5"
    - "spanning-tree vlan 1,3,9 hello-time 4"
    - "spanning-tree mst max-hops 33"
    - "spanning-tree mst 5,7-9 priority 57344"
    - "spanning-tree mst 1 priority 4096"
    - "spanning-tree mst 0 priority 12288"
    - "spanning-tree mst configuration"
    - "name NAME"
    - "revision 34"
    - "instance 2 vlan 10-20"
    - "instance 1 vlan 40-50"
    - "exit"
  commands3:
    - "spanning-tree backbonefast"
    - "spanning-tree bridge assurance"
    - "no spanning-tree mst simulate pvst global"
    - "spanning-tree vlan 1-3,5-6 hello-time 6"
    - "spanning-tree mst 6 priority 57344"
    - "spanning-tree mst configuration"
    - "revision 35"
    - "instance 2 vlan 21-30"
    - "exit"

  after:
    mode: "mst"
    mst:
      forward_time: 25
      hello_time: 4
      max_age: 33

rendered:
  commands:
    - "spanning-tree backbonefast"
    - "no spanning-tree bridge assurance"
    - "spanning-tree logging"
    - "spanning-tree loopguard default"
    - "spanning-tree mode mst"
    - "spanning-tree pathcost method long"
    - "spanning-tree transmit hold-count 5"
    - "spanning-tree portfast default"
    - "spanning-tree portfast bpdufilter default"
    - "spanning-tree portfast bpduguard default"
    - "spanning-tree uplinkfast"
    - "spanning-tree uplinkfast max-update-rate 32"
    - "no spanning-tree mst simulate pvst global"
    - "spanning-tree vlan 1,7-20 forward-time 20"
    - "spanning-tree vlan 5 hello-time 6"
    - "spanning-tree vlan 4,6-8 hello-time 5"
    - "spanning-tree vlan 1,3,9 hello-time 4"
    - "spanning-tree vlan 1-2,4-5 max-age 38"
    - "spanning-tree vlan 1,3-5,7,9-11 priority 24576"
    - "spanning-tree mst hello-time 4"
    - "spanning-tree mst forward-time 25"
    - "spanning-tree mst max-age 33"
    - "spanning-tree mst max-hops 33"
    - "spanning-tree mst 5,7-9 priority 57344"
    - "spanning-tree mst 1 priority 4096"
    - "spanning-tree mst 0 priority 12288"
    - "spanning-tree mst configuration"
    - "name NAME"
    - "revision 34"
    - "instance 2 vlan 10-20"
    - "instance 1 vlan 40-50"
    - "exit"

replaced:
  commands:
    - "no spanning-tree backbonefast"
    - "spanning-tree bridge assurance"
    - "no spanning-tree logging"
    - "no spanning-tree loopguard default"
    - "no spanning-tree mode mst"
    - "no spanning-tree pathcost method long"
    - "no spanning-tree transmit hold-count 5"
    - "no spanning-tree portfast default"
    - "no spanning-tree portfast bpdufilter default"
    - "no spanning-tree portfast bpduguard default"
    - "no spanning-tree uplinkfast"
    - "no spanning-tree uplinkfast max-update-rate 32"
    - "spanning-tree mst simulate pvst global"
    - "no spanning-tree vlan 1,7-20 forward-time 20"
    - "no spanning-tree vlan 5 hello-time 6"
    - "no spanning-tree vlan 1-2,4-5 max-age 38"
    - "no spanning-tree vlan 1,3-5,7,9-11 priority 24576"
    - "no spanning-tree mst hello-time 4"
    - "no spanning-tree mst forward-time 25"
    - "no spanning-tree mst max-age 33"
    - "no spanning-tree mst max-hops 33"
    - "no spanning-tree mst 5,7-9 priority 57344"
    - "no spanning-tree mst 1 priority 4096"
    - "no spanning-tree mst 0 priority 12288"
    - "no spanning-tree mst configuration"
  after:
    mode: "rapid-pvst"
    hello_time:
      - value: 4
        vlan_list: "1,3,9"
      - value: 5
        vlan_list: "4,6-8"

deleted:
  commands:
    - "no spanning-tree vlan 7-9 forward-time 20"
  commands2:
    - "no spanning-tree backbonefast"
    - "spanning-tree bridge assurance"
    - "no spanning-tree logging"
    - "no spanning-tree loopguard default"
    - "no spanning-tree mode mst"
    - "no spanning-tree pathcost method long"
    - "no spanning-tree transmit hold-count 5"
    - "no spanning-tree portfast default"
    - "no spanning-tree portfast bpdufilter default"
    - "no spanning-tree portfast bpduguard default"
    - "no spanning-tree uplinkfast"
    - "no spanning-tree uplinkfast max-update-rate 32"
    - "spanning-tree mst simulate pvst global"
    - "no spanning-tree vlan 1,10-20 forward-time 20"
    - "no spanning-tree vlan 5 hello-time 6"
    - "no spanning-tree vlan 4,6-8 hello-time 5"
    - "no spanning-tree vlan 1,3,9 hello-time 4"
    - "no spanning-tree vlan 1-2,4-5 max-age 38"
    - "no spanning-tree vlan 1,3-5,7,9-11 priority 24576"
    - "no spanning-tree mst hello-time 4"
    - "no spanning-tree mst forward-time 25"
    - "no spanning-tree mst max-age 33"
    - "no spanning-tree mst max-hops 33"
    - "no spanning-tree mst 5,7-9 priority 57344"
    - "no spanning-tree mst 1 priority 4096"
    - "no spanning-tree mst 0 priority 12288"
    - "spanning-tree mst configuration"
    - "no name NAME"
    - "no revision 34"
    - "no instance 2 vlan 10-20"
    - "no instance 1 vlan 40-50"
    - "exit"

parsed:
  config:
    backbonefast: true
    bridge_assurance: false
    forward_time:
      - value: 20
        vlan_list: 1,7-20
    hello_time:
      - value: 4
        vlan_list: 1,3,9
      - value: 5
        vlan_list: 4,6-8
      - value: 6
        vlan_list: "5"
    logging: true
    loopguard_default: true
    max_age:
      - value: 38
        vlan_list: 1-2,4-5
    mode: mst
    mst:
      configuration:
        instances:
          - instance: 1
            vlan_list: 40-50
          - instance: 2
            vlan_list: 10-20
        name: NAME
        revision: 34
      forward_time: 25
      hello_time: 4
      max_age: 33
      max_hops: 33
      priority:
        - instance: "0"
          value: 12288
        - instance: "1"
          value: 4096
        - instance: 5,7-9
          value: 57344
      simulate_pvst_global: false
    pathcost_method: long
    portfast:
      bpdufilter_default: true
      bpduguard_default: true
      default: true
    priority:
      - value: 24576
        vlan_list: 1,3-5,7,9-11
    transmit_hold_count: 5
    uplinkfast:
      enabled: true
      max_update_rate: 32
